HCL 第一课：基础指令学习（以交换机/路由器初始化为例）
 
HCL 实验的核心是通过 设备命令行指令 配置网络，第一课将聚焦最基础的设备初始化指令，掌握后可完成设备基本信息配置与管理，为后续网络搭建打基础。
 
一、前提：进入设备命令行
 
打开 HCL，拖入 1 台 S5820V2-54QS-GE（交换机）或 MSR3640（路由器）到工作区，右键选择「启动」。
 
双击设备图标，弹出命令行窗口（默认进入「用户视图」，提示符为  [H3C]  或   ，用户视图权限有限，需先进入特权视图）。
 
二、核心基础指令（分阶段学习）
 
阶段 1：视图切换（关键！不同视图对应不同权限）
 
H3C 设备指令需在对应「视图」下执行，最常用的 3 个视图及切换指令如下：
 
- 1. 用户视图 → 特权视图（获取高级操作权限）
指令： system-view （可简写为  sys ）
效果：提示符从    变为  [H3C] ，此时可配置设备核心参数。
 
- 2. 特权视图 → 接口视图（配置具体接口，如 Ethernet 0/0/1）
指令： interface 接口名 （如  interface GigabitEthernet 0/0/1 ，可简写为  int g0/0/1 ）
效果：提示符从  [H3C]  变为  [H3C-GigabitEthernet0/0/1] ，用于配置接口 IP、速率等。
 
- 3. 返回上一级视图
指令： quit （可简写为  q ）
效果：从接口视图返回特权视图，再执行一次返回用户视图。
 
阶段 2：设备基础信息配置（特权视图下执行）
 
修改设备名称（便于区分拓扑中的多台设备）
指令： sysname 自定义名称 （如  sysname SW1 ，表示将交换机命名为 SW1）
效果：提示符从  [H3C]  变为  [SW1] ，直观识别设备。
 
配置管理 IP（以交换机为例，需先进入 VLAN 1 接口）
交换机默认所有接口属于 VLAN 1，管理 IP 需配置在 VLAN 1 接口上：
① 进入 VLAN 1 接口： interface Vlan-interface 1 （简写  int vlan 1 ）
② 配置 IP 地址： ip address IP地址 子网掩码 （如  ip address 192.168.1.1 255.255.255.0 ）
③ 返回特权视图： quit 
 
查看配置结果（验证指令是否生效）
 
 
- 查看设备名称：直接观察命令行提示符（如  [SW1] ）。
 
- 查看接口 IP： display ip interface Vlan-interface 1 （简写  dis ip int vlan 1 ），可看到配置的 IP 和子网掩码。
 
阶段 3：基础运维指令（排查配置问题）
 
查看所有接口状态（判断接口是否启用、是否有连接）
指令： display interface brief （简写  dis int brief ）
输出：显示所有接口的「状态（Status）」和「协议状态（Protocol）」，正常连接时两者均为「Up」。
 
保存配置（防止设备重启后配置丢失）
指令： save （执行后按提示输入  Y  确认）
说明：HCL 中设备重启后默认不保留配置，必须执行  save  才能永久保存。
 
清除当前配置（重新实验时使用）
指令： reset saved-configuration （执行后按  Y  确认，需重启设备生效）
注意：此指令会删除所有已保存配置，谨慎使用。
 
三、实操练习：完成 1 个小任务
 
目标：配置 1 台交换机，名称为「SW1」，管理 IP 为「192.168.2.1/24」，并验证配置。
步骤：
 
双击启动的交换机，进入用户视图   。
 
输入  sys  → 进入特权视图  [H3C] 。
 
输入  sysname SW1  → 提示符变为  [SW1] 。
 
输入  int vlan 1  → 进入  [SW1-Vlan-interface1] 。
 
输入  ip address 192.168.2.1 255.255.255.0  → 配置 IP。
 
输入  q  → 返回  [SW1] 。
 
输入  dis ip int vlan 1  → 查看是否显示  IP address: 192.168.2.1 。
 
输入  save  → 按  Y  保存配置。
 
四、常见问题与注意事项
 
指令输入错误：若提示「Invalid command」，检查是否拼写错误（如  int  不能写成  inet ），或是否在正确视图（如配置 IP 需在接口视图）。
 
接口名称区分：交换机常用  GigabitEthernet 0/0/1 （千兆口），路由器常用  GigabitEthernet 0/0 （广域网口），输入时需对应设备类型。
 
简写规则：HCL 支持指令简写（如  sys  代  system-view ），但首次学习建议先写全指令，熟悉后再用简写。
 
通过以上指令练习，可掌握 HCL 设备的核心操作逻辑，后续课程将基于这些基础，学习 VLAN、路由、DHCP 等进阶配置。
